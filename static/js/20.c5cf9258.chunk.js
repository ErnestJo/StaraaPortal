"use strict";(self.webpackChunkSaloon_Portal=self.webpackChunkSaloon_Portal||[]).push([[20],{85020:function(e,t,a){a.r(t);var s=a(1413),n=a(70885),r=a(72791),l=a(74569),o=a.n(l),i=a(9592),d=a(13855),c=a(89743),u=a(2677),p=a(16157),f=a(2144),h=a(45736),j=a(61134),x=(a(25415),a(31418),a(64802),a(30274)),m=(a(65057),a(50649)),Z=a.n(m),_=a(80184);function g(e){var t=(0,r.useState)([]),a=(0,n.Z)(t,2),l=a[0],f=a[1],h=(0,r.useState)([]),m=(0,n.Z)(h,2),Z=m[0],g=m[1],q=(0,r.useState)([]),b=(0,n.Z)(q,2),y=b[0],S=b[1],v=(0,r.useState)([]),w=(0,n.Z)(v,2),C=w[0],R=w[1];(0,r.useRef)();r.useEffect((function(){}),[]);var E=(0,j.cI)({mode:"onChange"}),F=E.register,N=(E.errors,E.handleSubmit),P=(E.watch,E.reset),I=(0,r.useState)(""),D=(0,n.Z)(I,2),T=(D[0],D[1],(0,r.useState)(!1)),B=(0,n.Z)(T,2),G=(B[0],B[1]);return(0,r.useEffect)((function(){o()({method:"GET",url:"/api/get_project"}).then((function(e){console.log(e.data[0].data),f(e.data[0].data)})).catch((function(e){console.log(e)}))}),[]),(0,r.useEffect)((function(){o()({method:"GET",url:"/api/get_staff"}).then((function(e){console.log(e.data[0].data),g(e.data[0].data)})).catch((function(e){console.log(e)}))}),[]),(0,r.useEffect)((function(){o()({method:"GET",url:"/api/get_properties"}).then((function(e){console.log(e.data[0].data),R(e.data[0].data)})).catch((function(e){console.log(e)}))}),[]),(0,r.useEffect)((function(){o()({method:"GET",url:"/api/get_request_status"}).then((function(e){console.log(e.data[0].data),S(e.data[0].data)})).catch((function(e){console.log(e)}))}),[]),(0,_.jsxs)(i.Z,(0,s.Z)((0,s.Z)({},e),{},{size:"lg","aria-labelledby":"contained-modal",centered:!0,children:[(0,_.jsx)(i.Z.Header,{closeButton:!0,children:(0,_.jsx)(i.Z.Title,{id:"contained-modal",children:e.title})}),(0,_.jsx)(i.Z.Body,{children:(0,_.jsxs)(d.Z,{onSubmit:N((function(e){try{var t={req_name:e.req_name,req_date:e.req_date,request_status:parseInt(e.request_status),staff:parseInt(e.staff),propertiy:parseInt(e.propertiy),project:parseInt(e.project)};console.log(t),o().post("/api/add_properties_req",t,{headers:{"content-Type":"application/json"}}).then((function(e){P(),console.log(e.data[0].data[0]),(e.data[0].data[0].code=111)?x.Z.notifySuccess("Project was added Succefully"):x.Z.notifyError("failed to add new project")})),G(!0)}catch(a){}})),children:[(0,_.jsxs)(c.Z,{children:[(0,_.jsx)(u.Z,{md:6,children:(0,_.jsxs)(d.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,_.jsx)(d.Z.Label,{children:"Request Name"}),(0,_.jsx)(d.Z.Control,(0,s.Z)({type:"text",placeholder:"Enter Request Name",name:"req_name"},F("req_name")))]})}),(0,_.jsxs)(u.Z,{md:6,children:[(0,_.jsx)(d.Z.Label,{children:"Property/Item"}),(0,_.jsxs)(d.Z.Select,(0,s.Z)((0,s.Z)({"aria-label":"Default select"},F("propertiy")),{},{children:[(0,_.jsx)("option",{children:"Choose Item"}),C.length>0&&C.map((function(e){return(0,_.jsx)("option",{value:e.properties_id,children:e.properties_name},e.properties_id)}))]}))]}),(0,_.jsxs)(u.Z,{md:6,children:[(0,_.jsx)(d.Z.Label,{children:"For Project"}),(0,_.jsxs)(d.Z.Select,(0,s.Z)((0,s.Z)({"aria-label":"Default select example"},F("project")),{},{children:[(0,_.jsx)("option",{children:"Choose Project"}),l.length>0&&l.map((function(e){return(0,_.jsx)("option",{value:e.project_id,children:e.project},e.project_id)}))]}))]}),(0,_.jsxs)(u.Z,{md:6,children:[(0,_.jsx)(d.Z.Label,{children:"Staff"}),(0,_.jsxs)(d.Z.Select,(0,s.Z)((0,s.Z)({"aria-label":"Default select example"},F("staff")),{},{children:[(0,_.jsx)("option",{children:"Choose staff"}),Z.length>0&&Z.map((function(e){return(0,_.jsx)("option",{value:e.staff_id,children:e.staff},e.staff_id)}))]}))]}),(0,_.jsxs)(u.Z,{md:6,children:[(0,_.jsx)(d.Z.Label,{children:"Request Status"}),(0,_.jsxs)(d.Z.Select,(0,s.Z)((0,s.Z)({"aria-label":"Default select example"},F("request_status")),{},{children:[(0,_.jsx)("option",{children:"Request status options"}),y.length>0&&y.map((function(e){return(0,_.jsx)("option",{value:e.request_status_id,children:e.request_status_name},e.request_status_id)}))]}))]}),(0,_.jsx)(u.Z,{md:6,children:(0,_.jsxs)(d.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,_.jsx)(d.Z.Label,{children:"Req date"}),(0,_.jsx)(d.Z.Control,(0,s.Z)({type:"date",placeholder:"Enter Request date"},F("req_date")))]})})]}),(0,_.jsxs)(u.Z,{md:12,className:"mt-2",children:[(0,_.jsx)(p.Z,{onClick:e.onHide,children:"Close"}),(0,_.jsx)(p.Z,{className:"float-end",type:"submit",children:e.title})]})]})})]}))}g.defaultProps={title:"Add Properties Request"},t.default=function(){var e=r.useState(!1),t=(0,n.Z)(e,2),a=t[0],s=t[1],l=(0,r.useState)([]),i=(0,n.Z)(l,2),d=i[0],c=i[1],u=(0,r.useState)({data:[],showFilterRow:!0,showHeaderFilter:!0,currentFilter:"auto",startDate:new Date,endDate:new Date}),p=(0,n.Z)(u,2),j=p[0];p[1];return(0,r.useEffect)((function(){o()({method:"GET",url:"/api/get_properties_request"}).then((function(e){console.log(e.data[0].data),c(e.data[0].data)})).catch((function(e){console.log(e)}))}),[]),(0,_.jsxs)("div",{children:[(0,_.jsxs)(f.Z,{children:[(0,_.jsx)(f.Z.Header,{children:(0,_.jsx)("h3",{children:"Reports"})}),(0,_.jsx)(f.Z.Body,{children:(0,_.jsxs)(Z(),{ref:function(e){return e},dataSource:d,showRowLines:!0,showBorders:!0,children:[(0,_.jsx)(m.Column,{dataField:"project_name",caption:"Project Name"}),(0,_.jsx)(m.Column,{dataField:"req_name",caption:"request Name"}),(0,_.jsx)(m.Column,{dataField:"staff",caption:"Staff Name"}),(0,_.jsx)(m.Column,{dataField:"po",caption:"product Owner"}),(0,_.jsx)(m.Column,{dataField:"properties_name",caption:"Item Name"}),(0,_.jsx)(m.Column,{dataField:"req_date",caption:"Request Date"}),(0,_.jsx)(m.Column,{dataField:"request_status",caption:"Request status",allowFiltering:!1,cellRender:function(e){return"Approved"==e.data.request_status?(0,_.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,_.jsx)(h.Z,{pill:!0,bg:"success",children:e.data.request_status})}):"Pending"==e.data.request_status?(0,_.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,_.jsx)(h.Z,{pill:!0,bg:"secondary",children:e.data.request_status})}):"Rejected"==e.data.request_status||"Not Redurned"==e.data.request_status?(0,_.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,_.jsx)(h.Z,{pill:!0,bg:"danger",children:e.data.request_status})}):"Returned"==e.data.request_status?(0,_.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,_.jsx)(h.Z,{pill:!0,bg:"success",children:e.data.request_status})}):void 0}}),(0,_.jsx)(m.ColumnChooser,{enabled:!0}),(0,_.jsx)(m.Selection,{mode:"multiple"}),(0,_.jsx)(m.Export,{enabled:!0,fileName:"Request",allowExportSelectedData:!0}),(0,_.jsx)(m.Paging,{defaultPageSize:10}),(0,_.jsx)(m.FilterRow,{visible:j.showFilterRow,applyFilter:j.currentFilter}),(0,_.jsx)(m.HeaderFilter,{visible:j.showHeaderFilter}),(0,_.jsx)(m.Selection,{mode:"single"}),(0,_.jsx)(m.SearchPanel,{visible:!0,width:240,placeholder:"Search..."}),(0,_.jsx)(m.Summary,{children:(0,_.jsx)(m.TotalItem,{column:"id_no",summaryType:"count"})})]})})]}),(0,_.jsx)(g,{show:a,onHide:function(){return s(!1)}})]})}},45736:function(e,t,a){var s=a(1413),n=a(45987),r=a(81694),l=a.n(r),o=a(72791),i=a(10162),d=a(80184),c=["bsPrefix","bg","pill","text","className","as"],u=o.forwardRef((function(e,t){var a=e.bsPrefix,r=e.bg,o=e.pill,u=e.text,p=e.className,f=e.as,h=void 0===f?"span":f,j=(0,n.Z)(e,c),x=(0,i.vE)(a,"badge");return(0,d.jsx)(h,(0,s.Z)((0,s.Z)({ref:t},j),{},{className:l()(p,x,o&&"rounded-pill",u&&"text-".concat(u),r&&"bg-".concat(r))}))}));u.displayName="Badge",u.defaultProps={bg:"primary",pill:!1},t.Z=u}}]);
//# sourceMappingURL=20.c5cf9258.chunk.js.map