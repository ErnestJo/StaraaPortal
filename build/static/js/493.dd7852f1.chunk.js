"use strict";(self.webpackChunkSaloon_Portal=self.webpackChunkSaloon_Portal||[]).push([[493],{26493:function(e,t,r){r.r(t),r.d(t,{default:function(){return I}});var a=r(1413),n=r(70885),o=r(72791),i=r(74569),s=r.n(i),l=r(9592),d=r(13855),c=r(89743),u=r(2677),p=r(16157),m=r(2144),f=r(45736),h=r(61134),x=(r(25415),r(31418),r(64802),r(52007)),j=r.n(x),Z=["color","size"];function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},y.apply(this,arguments)}function g(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var v=(0,o.forwardRef)((function(e,t){var r=e.color,a=e.size,n=g(e,Z);return o.createElement("svg",y({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:r},n),o.createElement("path",{fillRule:"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"}),o.createElement("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"}))}));v.propTypes={color:j().string,size:j().oneOfType([j().string,j().number])},v.defaultProps={color:"currentColor",size:"1em"};var b=v,_=r(61265),w=r(65057),S=r(50649),C=r.n(S),P=r(30274),E=r(80184),N="/api/get_properties",F="/api/update_properties_status",R=w.Ry().shape({properties_name:w.Z_().required(),serial_number:w.Z_().required(),model:w.Z_().required(),properties_status:w.Rx().required(),imei:w.Rx().required()});function O(e){var t=(0,o.useState)([]),r=(0,n.Z)(t,2),i=r[0],m=r[1];(0,o.useRef)();o.useEffect((function(){}),[]);var f=(0,h.cI)({mode:"onChange",resolver:(0,_.X)(R)}),x=f.register,j=(f.errors,f.handleSubmit),Z=f.reset,y=(0,o.useState)(""),g=(0,n.Z)(y,2),v=(g[0],g[1],(0,o.useState)(!1)),b=(0,n.Z)(v,2),w=(b[0],b[1]);return(0,o.useEffect)((function(){s()({method:"GET",url:N}).then((function(e){console.log(e.data[0].data),m(e.data[0].data)})).catch((function(e){console.log(e)})),s()({method:"GET",url:"api/get_properties_status"}).then((function(e){console.log(e.data[0].data),m(e.data[0].data)})).catch((function(e){console.log(e)}))}),[]),(0,E.jsxs)(l.Z,(0,a.Z)((0,a.Z)({},e),{},{size:"lg","aria-labelledby":"contained-modal",centered:!0,children:[(0,E.jsx)(l.Z.Header,{closeButton:!0,children:(0,E.jsx)(l.Z.Title,{id:"contained-modal",children:e.title})}),(0,E.jsx)(l.Z.Body,{children:(0,E.jsxs)(d.Z,{onSubmit:j((function(t){try{var r={properties_name:t.properties_name,serial_number:t.serial_number,imei:t.imei,model:t.model,properties_status:parseInt(t.properties_status)};console.log(r),s().post("/api/add_properties",r,{headers:{"content-Type":"application/json"}}).then((function(t){Z(),console.log(t.data[0].data[0]),(t.data[0].data[0].code=111)?(e.reloadPage(),e.onHide(),P.Z.notifySuccess("Properties was added Succefully")):P.Z.notifyError("failed to add new Properties")})),w(!0)}catch(a){}})),children:[(0,E.jsxs)(c.Z,{children:[(0,E.jsx)(u.Z,{md:6,children:(0,E.jsxs)(d.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,E.jsx)(d.Z.Label,{children:"Propertiy Name"}),(0,E.jsx)(d.Z.Control,(0,a.Z)((0,a.Z)({type:"text",placeholder:"Enter Propertiy Name",name:"properties_name"},x("properties_name")),{},{required:!0}))]})}),(0,E.jsxs)(u.Z,{md:6,children:[" ",(0,E.jsx)(d.Z.Label,{children:"Property Status"}),(0,E.jsxs)(d.Z.Select,(0,a.Z)((0,a.Z)({"aria-label":"Default select"},x("properties_status")),{},{required:!0,children:[(0,E.jsx)("option",{value:"",children:"Choose Status "}),i.length>0&&i.map((function(e){return(0,E.jsx)("option",{value:e.properties_status_id,children:e.properties_status_name},e.properties_status_id)}))]}))]}),(0,E.jsx)(u.Z,{md:6,children:(0,E.jsxs)(d.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,E.jsx)(d.Z.Label,{children:"Imei"}),(0,E.jsx)(d.Z.Control,(0,a.Z)((0,a.Z)({type:"number",placeholder:"Imei",name:"imei"},x("imei")),{},{required:!0}))]})}),(0,E.jsx)(u.Z,{md:6,children:(0,E.jsxs)(d.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,E.jsx)(d.Z.Label,{children:"model"}),(0,E.jsx)(d.Z.Control,(0,a.Z)((0,a.Z)({type:"text",placeholder:"model",name:"model"},x("model")),{},{required:!0}))]})}),(0,E.jsx)(u.Z,{md:6,children:(0,E.jsxs)(d.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,E.jsx)(d.Z.Label,{children:"Serial Number"}),(0,E.jsx)(d.Z.Control,(0,a.Z)((0,a.Z)({type:"text",placeholder:"Serial Number",name:"serial_number"},x("serial_number")),{},{required:!0}))]})})]}),(0,E.jsxs)(u.Z,{md:12,className:"mt-2",children:[(0,E.jsx)(p.Z,{onClick:e.onHide,children:"Close"}),(0,E.jsx)(p.Z,{className:"float-end",type:"submit",children:e.title})]})]})})]}))}O.defaultProps={title:"Add Properties"};var I=function(){var e=o.useState(!1),t=(0,n.Z)(e,2),r=t[0],a=t[1],i=(0,o.useState)([]),l=(0,n.Z)(i,2),d=(l[0],l[1],(0,o.useState)([])),c=(0,n.Z)(d,2),u=c[0],h=c[1],x=(0,o.useState)({data:[],showFilterRow:!0,showHeaderFilter:!0,currentFilter:"auto",startDate:new Date,endDate:new Date}),j=(0,n.Z)(x,2),Z=j[0];j[1];(0,o.useEffect)((function(){y()}),[]);var y=function(){s()({method:"GET",url:N}).then((function(e){console.log(e.data[0].data),h(e.data[0].data)})).catch((function(e){console.log(e)}))};return(0,E.jsxs)("div",{children:[(0,E.jsxs)(m.Z,{children:[(0,E.jsx)(m.Z.Header,{children:(0,E.jsx)(p.Z,{className:"primary",onClick:function(){return a(!0)},children:"Add Properties"})}),(0,E.jsx)(m.Z.Body,{children:(0,E.jsxs)(C(),{ref:function(e){return e},dataSource:u,showBorders:!0,showRowLines:!0,allowColumnResizing:!0,allowColumnReordering:!0,rowAlternationEnabled:!0,columnResizingMode:"nextColumn",columnAutoWidth:!0,children:[(0,E.jsx)(S.Column,{dataField:"properties_name",caption:"Item Name"}),(0,E.jsx)(S.Column,{dataField:"model",caption:"Model"}),(0,E.jsx)(S.Column,{dataField:"imei",caption:"Imei"}),(0,E.jsx)(S.Column,{dataField:"serial_number",caption:"Serial Number"}),(0,E.jsx)(S.Column,{dataField:"properties_status_name",caption:"Properties ",allowFiltering:!1,cellRender:function(e){return"Good Condition"==e.data.properties_status_name?(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,E.jsx)(f.Z,{bg:"success",children:e.data.properties_status_name}),console.log(e.data)]}):(0,E.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,E.jsx)(f.Z,{bg:"secondary",children:e.data.properties_status_name})})}}),(0,E.jsx)(S.Column,{dataField:"properties_id",caption:"Actions",allowFiltering:!1,cellRender:function(e){return(0,E.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,E.jsx)(p.Z,{variant:"danger",onClick:function(){if(console.log(e.data.properties_status_name),"bad condition"==e.data.properties_status_name){var t={properties_id:e.data.properties_id,properties_status:1};console.log(t),s().post(F,t,{headers:{"content-Type":"application/json"}}).then((function(e){console.log(e.data[0].data[0]),(e.data[0].data[0].code=111)?(y(),P.Z.notifySuccess("Properties Status was added changed")):P.Z.notifyError("Properties Status was not Changed")}))}else if("Good Condition"==e.data.properties_status_name){t={properties_id:e.data.properties_id,properties_status:2};console.log(t),s().post(F,t,{headers:{"content-Type":"application/json"}}).then((function(e){console.log(e.data[0].data[0]),(e.data[0].data[0].code=111)?(y(),P.Z.notifySuccess("Properties Status was  Changed")):P.Z.notifyError("Properties Status was not Changed")}))}},className:"mx-1",children:(0,E.jsx)(b,{})})})}}),(0,E.jsx)(S.ColumnChooser,{enabled:!0}),(0,E.jsx)(S.Selection,{mode:"multiple"}),(0,E.jsx)(S.Export,{enabled:!0,fileName:"Properties",allowExportSelectedData:!0}),(0,E.jsx)(S.Paging,{defaultPageSize:10}),(0,E.jsx)(S.FilterRow,{visible:Z.showFilterRow,applyFilter:Z.currentFilter}),(0,E.jsx)(S.HeaderFilter,{visible:Z.showHeaderFilter}),(0,E.jsx)(S.Selection,{mode:"single"}),(0,E.jsx)(S.SearchPanel,{visible:!0,width:240,placeholder:"Search..."}),(0,E.jsx)(S.Summary,{children:(0,E.jsx)(S.TotalItem,{column:"id_no",summaryType:"count"})})]})})]}),(0,E.jsx)(O,{show:r,reloadPage:y,onHide:function(){return a(!1)}})]})}},61265:function(e,t,r){r.d(t,{X:function(){return s}});var a=r(61134),n=function(e,t,r){if(e&&"reportValidity"in e){var n=(0,a.U2)(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},o=function(e,t){var r=function(r){var a=t.fields[r];a&&a.ref&&"reportValidity"in a.ref?n(a.ref,r,e):a.refs&&a.refs.forEach((function(t){return n(t,r,e)}))};for(var a in t.fields)r(a)},i=function(e,t){t.shouldUseNativeValidation&&o(e,t);var r={};for(var n in e){var i=(0,a.U2)(t.fields,n);(0,a.t8)(r,n,Object.assign(e[n],{ref:i&&i.ref}))}return r},s=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),function(s,l,d){try{return Promise.resolve(function(a,i){try{var c=(t.context,Promise.resolve(e["sync"===r.mode?"validateSync":"validate"](s,Object.assign({abortEarly:!1},t,{context:l}))).then((function(e){return d.shouldUseNativeValidation&&o({},d),{values:r.rawValues?s:e,errors:{}}})))}catch(n){return i(n)}return c&&c.then?c.then(void 0,i):c}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:i((t=e,r=!d.shouldUseNativeValidation&&"all"===d.criteriaMode,(t.inner||[]).reduce((function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),r){var n=e[t.path].types,o=n&&n[t.type];e[t.path]=(0,a.KN)(t.path,r,e,t.type,o?[].concat(o,t.message):t.message)}return e}),{})),d)};var t,r})))}catch(n){return Promise.reject(n)}}}},45736:function(e,t,r){var a=r(1413),n=r(45987),o=r(81694),i=r.n(o),s=r(72791),l=r(10162),d=r(80184),c=["bsPrefix","bg","pill","text","className","as"],u=s.forwardRef((function(e,t){var r=e.bsPrefix,o=e.bg,s=e.pill,u=e.text,p=e.className,m=e.as,f=void 0===m?"span":m,h=(0,n.Z)(e,c),x=(0,l.vE)(r,"badge");return(0,d.jsx)(f,(0,a.Z)((0,a.Z)({ref:t},h),{},{className:i()(p,x,s&&"rounded-pill",u&&"text-".concat(u),o&&"bg-".concat(o))}))}));u.displayName="Badge",u.defaultProps={bg:"primary",pill:!1},t.Z=u}}]);
//# sourceMappingURL=493.dd7852f1.chunk.js.map